<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>Отображение популярных мест в окрестностях Петроградского района</title>
    <script src="http://maps.api.2gis.ru/1.0"></script>
    <script>
        var myMap;
        
        DG.autoload(function() {
            // Инициализация карты:
            myMap = new DG.Map('map');
            myMap.setCenter(new DG.GeoPoint(30.312609,59.973261), 12);  

            // Массив, содержащий список филиалов:
            var bankList = [{"lon":"30.273510","lat":"59.964210","address":"Популярно по выходным днём и вечером с 14 до 23","name":"Бары и клубы. Граммзапись заведение"},
                            {"lon":"30.324497","lat":"59.934161","address":"Популярно по выходным днём и вечером с 14 до 23","name":"Достопримечательности. Казанский кафедральный собор"},
                            {"lon":"30.307598","lat":"59.955573","address":"Популярно по будням днём с 10 до 18","name":"Места в городе. Улица Кирочная"},
                            {"lon":"30.396714","lat":"60.008587","address":"Популярно по будням вечером с 19 до 0","name":"Места в городе. Малая Конюшенная, 3"},
                            {"lon":"30.301940","lat":"59.986033","address":"Популярно по выходным днём и вечером с 14 до 23","name":"Парки и сады. Каменный остров, Парк"},
                            {"lon":"30.333590","lat":"59.944290","address":"Популярно по выходным днём и вечером с 14 до 23","name":"Парки и сады. Summer Gardens, Saint Peterburg"},
                            {"lon":"30.308350","lat":"60.065382","address":"Популярно по будням вечером с 19 до 0","name":"Парки и сады. Лопухинский сад"},
                            {"lon":"30.258772","lat":"59.979004","address":"Популярно по выходным днём и вечером с 14 до 23","name":"Парки и сады. Центральный парк культуры и отдыха имени Кирова"},
                            {"lon":"30.321335","lat":"59.955836","address":"Популярно по выходным днём и вечером с 14 до 23","name":"Парки и сады. Александровский парк, Санкт-Петербург"},
                            {"lon":"30.284240","lat":"59.944410","address":"Популярно по будням вечером с 19 до 0","name":"Познавательное. Галерея 14/45"},
                            {"lon":"30.265381","lat":"59.945415","address":"Популярно по выходным днём и вечером с 14 до 23","name":"Познавательное. АРТМУЗА"},
                            {"lon":"30.220320","lat":"59.973011","address":"Популярно по выходным днём и вечером с 14 до 23","name":"Развлечения, спорт и отдых. Стадион Санкт-Петербург - Saint Petersburg Stadium"},
                            {"lon":"30.305806","lat":"59.946250","address":"Популярно по будням вечером с 19 до 0","name":"Реки. Malaya Neva River"},
                            {"lon":"30.316460","lat":"59.974346","address":"Популярно по выходным днём и вечером с 14 до 23","name":"Рестораны и кафе. CHEFS Eatertainment"},
                            {"lon":"30.281550","lat":"59.963580","address":"Популярно по выходным днём и вечером с 14 до 23","name":"Рестораны и кафе. Sound-Cafe LaDы"},
                            {"lon":"30.239267","lat":"59.965247","address":"Популярно по будням вечером с 19 до 0","name":"Рестораны и кафе. Паруса #2"},
                            {"lon":"30.308760","lat":"59.969260","address":"Популярно по выходным в начале ночи (0-2) и около полудня (10-13)","name":"Рестораны и кафе. Сырник"},
                            {"lon":"30.305116","lat":"59.948865","address":"Популярно по выходным днём и вечером с 14 до 23","name":"Рестораны и кафе. Mama Tuta"},
                            {"lon":"30.288038","lat":"59.971565","address":"Популярно по выходным днём и вечером с 14 до 23","name":"Театры. Театр ЛДМ новая сцена"}
            ];

            // Добавляем маркеры для каждого филиала:
            for(var i = 0, len = bankList.length; i < len; i++) {
                var bank = bankList[i];
                
                // Получаем необходимые данные о геообъекте и устанавливаем желаемый формат вывода информации:
                var info = "<b>" + bank.name + "</b><br>" + bank.address;
                
                // Опции маркера
                var markerOptions = {
                    geoPoint: new DG.GeoPoint(bank.lon, bank.lat),
                    // Устанавливаем иконку маркера в виде герба Санкт-Петербурга:
                    icon: new DG.Icon('https://zametno.su/upload/iblock/1d0/1d0a0ece8e01fc7b9a19e572cf951861.jpg',new DG.Size(22, 22)),
                    // Устанавливаем опции балуна:
                    balloonOptions: {
                        // Указываем содержимое балуна:
                        contentHtml: info
                    }
                }
                
                // Создаем маркер:
                var marker = new DG.Markers.MarkerWithBalloon(markerOptions);
                
                // Добавляем маркер на карту:
                myMap.markers.add(marker);
            }
            
        });

    </script>
</head>    
<body>
    <h2>Отображение популярных мест в окрестностях Петроградского района</h2>
    <div id="map" style="position: absolute; width: 600px; height: 500px;"></div>
</body>
</html>
